<h1>carts</h1>

<table class="table table-striped shadow rounded m-2">
  <thead class="thead-dark">
    <tr>
        <th>Product</th>
        <th>Quantity</th>
        <th>Total Price</th>
        <th colspan="3">Actions</th>
    </tr>
</thead>
<tbody>
    <% if ! @carts.empty? %>
        <% @carts.each do |cart| %>
          <% cart.cart_products.each do |ordprod| %>
            <tr>
            
                <td><%= cart.product.title %></td>

                <td><%= cart.quantity %></td>

                <td><%= cart.quantity*cart.product.price %></td>

                <td><%= link_to 'Show', cart, class: 'btn btn-primary' %></td>
                <td><%= link_to 'Edit', edit_cart_path(cart), class: 'btn btn-success' %></td>
                <td><%= link_to 'Remove', cart, method: :delete, class: 'btn btn-danger' , data: { confirm: 'Are you sure?' } %></td>
            </tr>
            <% end %>
            </tbody>
        <% end %>
    <% else %>
        <td colspan="11" style="text-align: center">No carts Found</td>
    <% end %>

</table>

<%= link_to 'New cart', new_cart_path, class: 'btn btn-outline-primary' %>
<%= link_to "Show Cart", show_cart_path, class: 'btn btn-outline-primary' %>
